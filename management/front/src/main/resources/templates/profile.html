<!DOCTYPE html>

<html class="no-js" xmlns:th="http://www.thymeleaf.org">
<head>
    <style>
        .tippy-active {

        }

        .tippy-arrow {

        }

        .tippy-content {

        }
    </style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">


    <link rel="shortcut icon" href="/static/assets/images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/static/assets/images/favicon.ico" type="image/x-icon">

    <title>ä¸ªäººä¸­å¿ƒ</title>
    <link href="/static/assets/css/jquery-ui.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">

    <link rel="stylesheet" href="/static/assets/profile/output.css">
    <style>
        [v-cloak] {
            display: none;
        }
        .tippy-* {

        }
        .tippy-active {

        }

        .tippy-arrow {

        }

        .tippy-content {

        }

        /*.my-bg-color >>> .el-collapse-item .el-collapse-item__header {*/
        /*    background-color: #eaf1f7 !important;*/
        /*    border-bottom: none !important;*/
        /*}*/
        .el-collapse-item__header {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            height: 48px;
            line-height: 48px;
            background-color: #eaf1f7;
            color: #303133;
            cursor: pointer;
            border-bottom: 1px solid #eaf1f7;
            font-size: 13px;
            font-weight: 500;
            -webkit-transition: border-bottom-color .3s;
            transition: border-bottom-color .3s;
            outline: 0;
        }

        .is-active {
            border-bottom-color: transparent;
        }

        .el-collapse-item__content {
            padding-bottom: 25px;
            background-color: #eaf1f7;
            font-size: 13px;
            color: #303133;
            line-height: 1.769230769230769;
        }
    </style>
</head>
<body class="bg-grey-lighter font-sans antialiased">
<!--header-->
<!-- Main -->
<div class="flex" id="app" v-cloak
     v-loading="loading"
     :element-loading-text="loadingText"
     element-loading-spinner="el-icon-loading">
    <!-- Content -->
    <div class="flex flex-1 flex-col md:px-6 pt-10" id="content">
        <!-- Title -->
        <div class="px-6 md:px-0 flex justify-between items-center -order-1">
            <div>
                <h2 class="font-normal">ä¸ªäººä¸­å¿ƒ</h2>
                <p class="text-grey-dark mt-2">æœ€è¿‘å‘è¡¨</p>
            </div>
            <button @click="showNews"
                    class="bg-indigo-dark hover:bg-indigo-darker text-white text-sm py-2 px-4 rounded-full transition-normal hover:shadow hover:translate-y-1 active:translate-y-1 focus:outline-none">
                å‘å¸ƒæ–‡ç« 
            </button>
        </div>
        <!-- Desktop Stats -->
        <div class="hidden px-6 md:px-0 mt-4 md:flex flex-wrap order-1 md:-order-1 md:shadow-md js-tab-pane"
             id="section-stats">
            <div class="p-4 px-6 w-full md:w-1/2 rounded md:rounded-r-none bg-white shadow-md md:shadow-none">
                <h4>ä½ æœ€è¿‘å‘è¡¨çš„ä¸‰ç¯‡æ–‡ç« </h4>
                <table class="mt-4 w-full">
                    <thead class="p-2 text-sm leading-loose border-b text-indigo">
                    <tr>
                        <td>æ–‡ç« å</td>
                        <td class="text-center">è¯„è®ºæ•°</td>
                        <td class="text-right">ç‚¹èµæ•°</td>
                    </tr>
                    </thead>
                    <tbody class="p-2 leading-loose text-sm">
                    <tr class="border-b" v-if="likeMost3.length === 0">
                        <td class="py-2" colspan="3">è¿˜æ²¡æœ‰å‘è¡¨æ–‡ç« å‘¢,å¿«å»å‘è¡¨å§</td>
                    </tr>
                    <tr class="border-b" v-for="item in likeMost3">
                        <td class="py-2">
                            <el-link :underline="false" :href="'/news/post/' + item.id">{{item.title}}</el-link>
                        </td>
                        <td class="py-2 text-center">{{item.commentCount}}</td>
                        <td class="py-2 text-right">{{item.likeCount}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="w-full md:w-1/2 p-4 md:pt-12 md:pl-1 mt-4 md:mt-0 lg:pt-12 lg:pl-8 rounded md:rounded-r-none bg-white shadow-md md:shadow-none">
                <div class="flex">
                    <div class="w-1/2">
                        <p class="text-indigo text-sm p-2">è¯„è®ºæœ€å¤šçš„æ–‡ç« </p>
                        <p class="font-medium text-sm pl-2">
                            <el-link :underline="false"
                                     :href="commentMost !== null ? '/news/post/' + commentMost.id : '#'">
                                {{commentMost !== null ? commentMost.title : 'æš‚æ— æ–‡ç« è¯¶'}}
                            </el-link>
                        </p>
                    </div>
                    <div class="w-1/2">
                        <p class="text-indigo text-sm p-2">ä¸€å…±å‘è¡¨çš„æ–‡ç« </p>
                        <p class="font-medium text-sm pl-2">{{allNews.length}}</p>
                    </div>
                </div>
                <div class="pt-6">
                    <p class="text-indigo text-sm p-2">ç‚¹èµæœ€å¤šçš„æ–‡ç« </p>
                    <p class="font-medium text-sm pl-2 leading-normal">
                        <el-link :underline="false" :href="likeMost !== null ? '/news/post/' + likeMost.id : '#'">
                            {{likeMost !== null ? likeMost.title : 'æš‚æ— æ–‡ç« è¯¶'}}
                        </el-link>
                    </p>
                </div>
            </div>
        </div>
        <!-- Filter -->
        <div class="px-6 md:px-0 flex items-baseline justify-between border-b-2 border-grey-light mt-6 order-0 lg:order-1">
            <h4 class="hidden md:inline-block text-grey-dark font-normal">æ–‡ç« </h4>
            <div>
                <div class="inline-block md:hidden no-underline border-indigo pb-2 px-2 text-sm mr-2 text-indigo-darkest hover:cursor-pointer js-tab relative"
                     data-tab="section-stats">Stats
                </div>

                <div class="no-underline inline-block border-indigo pb-2 px-2 text-sm mr-2 text-indigo-darkest hover:cursor-pointer js-tab active relative"
                      @click="changeStatus('published')" id="published">å·²å‘è¡¨ <span class="text-indigo text-xs">({{allNews.length}})</span>
                </div>
                <div class="no-underline inline-block border-indigo pb-2 px-2 text-sm mr-2 text-indigo-darkest hover:cursor-pointer js-tab relative"
                      @click="changeStatus('unReviewedB')" id="unReviewedB">æœªå®¡æ ¸ <span class="text-indigo text-xs">({{unReviewed.length}})</span></div>
                <div class="no-underline inline-block border-indigo pb-2 px-2 text-sm mr-2 text-indigo-darkest hover:cursor-pointer js-tab relative"
                      @click="changeStatus('reviewedFailB')" id="reviewedFailB">å®¡æ ¸å¤±è´¥ <span class="text-indigo text-xs">({{reviewedFail.length}})</span>
                </div>
            </div>
        </div>
        <!-- already-published -->
        <div class="hidden px-2 pt-2 md:px-0 flex-wrap order-2 pb-8 js-tab-pane active" id="already-published" v-show="published">
            <div class="flex flex-row sm:flex-col items-center sm:items-start w-full xs:w-1/2 sm:w-1/3 md:w-1/5 p-4 js-book"
                 v-for="item in allNews">
                <div style="position:relative;">
                    <el-link :underline="false" :href="'/news/post/' + item.id">
                        <img :src="item.image" alt="ç‚¹å‡»è½¬åˆ°æ–°é—»é¡µ"
                             class="w-1/3 sm:w-full shadow-md transition-normal hover:brighter hover:translate-y-1 hover:shadow-lg hover:border-indigo">
                    </el-link>
                    <el-popconfirm
                            @onConfirm="deleteNewsById(item.id)"
                            confirm-Button-Text='å¥½çš„'
                            cancel-Button-Text='ä¸ç”¨äº†'
                            icon="el-icon-info"
                            icon-Color="red"
                            title="ä½ ç¡®å®šè¦åˆ é™¤ä½ çš„æ–‡ç« å—ï¼Ÿ"
                    >
                        <el-button type="danger" icon="el-icon-delete" circle slot="reference" size="mini"
                                   style="position:absolute; right:10px; bottom:10px;"></el-button>
                    </el-popconfirm>
                </div>
                <div class="ml-3 sm:ml-0 w-2/3 sm:w-full">
                    <p class="text-sm my-2 font-medium sm:font-normal">
                        <el-link :underline="false" :href="'/news/post/' + item.id"
                                 style="display: block;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; width: 150px;">
                            {{item.title}}
                        </el-link>
                    </p>
                    <p class="block sm:hidden mt-2 mb-3 text-sm leading-medium">{{item.content}}</p>
                </div>
            </div>
        </div>
        <!--un-reviewed-->
        <div class="hidden px-2 pt-2 md:px-0 flex-wrap order-2 pb-8 js-tab-pane active" id="un-reviewed" v-show="unReviewedB">
            <div class="flex flex-row sm:flex-col items-center sm:items-start w-full xs:w-1/2 sm:w-1/3 md:w-1/5 p-4 js-book"
                 v-for="item in unReviewed">
                <div style="position:relative;">
                <el-link :underline="false" @click="updateNewsDialog(item)">
                    <img :src="item.image" alt=""
                         class="w-1/3 sm:w-full shadow-md transition-normal hover:brighter hover:translate-y-1 hover:shadow-lg hover:border-indigo">
                </el-link>
                <el-popconfirm
                        @onConfirm="deleteNewsById(item.id)"
                        confirm-Button-Text='å¥½çš„'
                        cancel-Button-Text='ä¸ç”¨äº†'
                        icon="el-icon-info"
                        icon-Color="red"
                        title="ä½ ç¡®å®šè¦åˆ é™¤ä½ çš„æ–‡ç« å—ï¼Ÿ"
                >
                    <el-button type="danger" icon="el-icon-delete" circle slot="reference" size="mini"
                               style="position:absolute; right:10px; bottom:10px;"></el-button>
                </el-popconfirm>
                </div>
                <div class="ml-3 sm:ml-0 w-2/3 sm:w-full">
                    <p class="text-sm my-2 font-medium sm:font-normal">
                        <el-link :underline="false" @click="updateNewsDialog(item)"
                                 style="display: block;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; width: 150px;">{{item.title}}</el-link>
                    </p>
                </div>
            </div>
        </div>
        <!--reviewed-fail-->
        <div class="hidden px-2 pt-2 md:px-0 flex-wrap order-2 pb-8 js-tab-pane active" id="reviewed-fail" v-show="reviewedFailB">
            <div class="flex flex-row sm:flex-col items-center sm:items-start w-full xs:w-1/2 sm:w-1/3 md:w-1/5 p-4 js-book"
                 v-for="item in reviewedFail">
                <div style="position:relative;">
                <el-link :underline="false" @click="updateNewsDialog(item)">
                    <img :src="item.image" alt=""
                         class="w-1/3 sm:w-full shadow-md transition-normal hover:brighter hover:translate-y-1 hover:shadow-lg hover:border-indigo">
                </el-link>
                <el-popconfirm
                        @onConfirm="deleteNewsById(item.id)"
                        confirm-Button-Text='å¥½çš„'
                        cancel-Button-Text='ä¸ç”¨äº†'
                        icon="el-icon-info"
                        icon-Color="red"
                        title="ä½ ç¡®å®šè¦åˆ é™¤ä½ çš„æ–‡ç« å—ï¼Ÿ"
                >
                    <el-button type="danger" icon="el-icon-delete" circle slot="reference" size="mini"
                               style="position:absolute; right:10px; bottom:10px;"></el-button>
                </el-popconfirm>
                </div>
                <div class="ml-3 sm:ml-0 w-2/3 sm:w-full">
                    <p class="text-sm my-2 font-medium sm:font-normal">
                        <el-link :underline="false" @click="updateNewsDialog(item)"
                                 style="display: block;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; width: 150px;">{{item.title}}</el-link>
                    </p>
                </div>
            </div>
        </div>
    </div>
    <!-- Profile -->
    <div class="hidden absolute pin-b z-10 lg:relative lg:block w-full lg:w-1/5 bg-grey-lighter-2 px-6 pt-10"
         id="profile" >
        <div class="flex items-center mb-6" @click="dialogFormVisible = true">
            <img :src="user.userIcon" width="60px" height="60px">
            <div class="ml-3">
                <p>
                    {{user.name}}
                    <el-tag :type="user.banned | statusFilter">
                        {{ user.banned === 0 ? 'æ­£å¸¸' : user.banned === 1 ? 'ç¦è¨€' : 'å°ç¦'}}
                    </el-tag>
                </p>
                <p class="text-grey-dark mt-1 text-sm">åŠ å…¥æ—¶é—´:{{new Date(user.registTime).toLocaleDateString()}}</p>
                <input type="hidden" th:value="${name}" id="name"/>
            </div>
        </div>
        <div class="my-4 border-t pt-4">
            <h3 class="text-indigo-dark font-normal mb-6">ä½ å·²ç»å‘è¡¨äº† <strong>{{allNews.length}} ç¯‡æ–‡ç« </strong> è‡³{{new
                Date().toLocaleDateString()}}</h3>
            <h3 class="text-indigo-dark font-normal mb-6">
                <el-link :underline="false" href="/index"><strong>è¿”å›é¦–é¡µ</strong></el-link>
                <el-link :underline="false" ><div @click="logout"><strong>æ³¨é”€ç™»å½•</strong></div></el-link>
            </h3>
            <el-collapse accordion>
                <el-collapse-item v-if="user.phone === null || user.phone === ''">
                    <template slot="title">
                        ç»‘å®šæ‰‹æœºå·ğŸ“±<i class="header-icon el-icon-info"></i>
                    </template>
                    <div>
                        <el-form :model="bindPhone" :rules="bindPhoneRules" ref="bindPhoneForm" label-width="80px"
                                 class="demo-ruleForm">
                            <el-form-item label-width="auto" prop="phone">
                                <el-input v-model="bindPhone.phone" placeholder="è¯·è¾“å…¥æ‰‹æœºå·"></el-input>
                            </el-form-item>
                            <el-form-item prop="code" label-width="auto">
                                <el-col :span="11">
                                    <el-input v-model="bindPhone.code" placeholder="éªŒè¯ç "></el-input>
                                </el-col>
                                <el-col :span="2">&nbsp;</el-col>
                                <el-col :span="11">
                                    <el-button type="primary" id="codePhoneBtn" :disabled="phoneCodeDisabled"
                                               @click="getPhoneCode('bindPhoneForm')">{{phoneCodeBtnText}}
                                    </el-button>
                                </el-col>
                            </el-form-item>
                            <el-form-item>
                                <el-button type="primary" @click="confirmBindPhone('bindPhoneForm')">ç¡®è®¤ç»‘å®š</el-button>
                            </el-form-item>
                        </el-form>
                    </div>
                </el-collapse-item>
            </el-collapse>
            <el-collapse accordion>
                <el-collapse-item v-if="user.email === null || user.email === ''">
                    <template slot="title">
                        ç»‘å®šé‚®ç®±ğŸ“®<i class="header-icon el-icon-info"></i>
                    </template>
                    <div>
                        <el-form :model="bindEmail" :rules="bindEmailRules" ref="bindEmailForm" label-width="80px"
                                 class="demo-ruleForm">
                            <el-form-item label-width="auto" prop="email">
                                <el-input v-model="bindEmail.email" placeholder="è¯·è¾“å…¥é‚®ç®±"></el-input>
                            </el-form-item>
                            <el-form-item label-width="auto" prop="code">
                                <el-col :span="11">
                                    <el-input v-model="bindEmail.code" placeholder="éªŒè¯ç "></el-input>
                                </el-col>
                                <el-col :span="2">&nbsp;</el-col>
                                <el-col :span="11">
                                    <el-button type="primary" :disabled="emailCodeDisabled"
                                               @click="bindEmailCode('bindEmailForm')"
                                    >{{emailCodeBtnText}}
                                    </el-button>
                                </el-col>
                            </el-form-item>
                            <el-form-item>
                                <el-button type="primary" @click="confirmBindEmail('bindEmailForm')">ç¡®è®¤ç»‘å®š</el-button>
                            </el-form-item>
                        </el-form>
                    </div>
                </el-collapse-item>
            </el-collapse>
        </div>
        <div class="mt-6">
            <el-collapse accordion>
                <el-collapse-item>
                    <template slot="title">
                        ä¿®æ”¹å¯†ç <i class="header-icon el-icon-info"></i>
                    </template>
                    <div>
                        <el-form :model="passwordForm" :rules="passwordRules" ref="passwordForm" label-width="80px"
                                 class="demo-ruleForm">
                            <el-form-item label="æ—§å¯†ç " prop="oldPwd">
                                <el-input v-model="passwordForm.oldPwd" type="password" placeholder="è¯·è¾“å…¥æ—§å¯†ç "
                                          :show-password="true"></el-input>
                            </el-form-item>
                            <el-form-item label="æ–°å¯†ç " prop="newPwd">
                                <el-input v-model="passwordForm.newPwd" type="password" placeholder="è¯·è¾“å…¥æ–°å¯†ç "
                                          :show-password="true"></el-input>
                            </el-form-item>
                            <el-form-item label="ç¡®è®¤å¯†ç " prop="rePwd">
                                <el-input v-model="passwordForm.rePwd" type="password" placeholder="è¯·ç¡®è®¤å¯†ç "
                                          :show-password="true"></el-input>
                            </el-form-item>
                            <el-form-item>
                                <el-button type="primary" @click="changePwd('passwordForm')">ä¿®æ”¹å¯†ç </el-button>
                            </el-form-item>
                        </el-form>
                    </div>
                </el-collapse-item>
            </el-collapse>
        </div>
    </div>
    <!--ä¸ªäººä¿¡æ¯å¼¹å‡ºæ¡†å¼€å§‹---------------------------------------------------- -->
    <el-dialog title="ä¸ªäººä¿¡æ¯" :visible.sync="dialogFormVisible">
        <el-form :model="user">
            <el-form-item label="ç”¨æˆ·å" :label-width="formLabelWidth">
                <el-input v-model="user.name" autocomplete="off" :disabled="true"/>
            </el-form-item>
            <el-form-item label="æ‰‹æœºå·" :label-width="formLabelWidth">
                <el-input v-model="user.phone" autocomplete="off" :disabled="true"/>
            </el-form-item>
            <el-form-item label="é‚®ç®±" :label-width="formLabelWidth">
                <el-input v-model="user.email" autocomplete="off" :disabled="true"/>
            </el-form-item>
            <el-form-item label="æ˜µç§°" :label-width="formLabelWidth">
                <el-input v-model="user.nickName" autocomplete="off"/>
            </el-form-item>
            <el-form-item label="ä¸ªäººä»‹ç»" :label-width="formLabelWidth">
                <el-input type="textarea" :rows="2" v-model="user.talk" autocomplete="off"/>
            </el-form-item>
            <el-form-item label="å¤´åƒ" :label-width="formLabelWidth">
                <el-col :span="3">
                    <el-avatar :src="user.userIcon" :size="40"/>
                </el-col>
                <el-col :span="4">
                    <el-upload
                            name="multipartFile"
                            :multiple="false"
                            :show-file-list="false"
                            :on-success="handleImageSuccess"
                            :on-error="handleImageFail"
                            :before-upload="beforeUploadHandle"
                            :headers="headers"
                            accept="image/*"
                            action="http://127.0.0.1:8888/api/front/upload"
                    >
                        <el-button size="small" type="primary">ç‚¹å‡»ä¸Šä¼ </el-button>
                    </el-upload>
                </el-col>
                <el-col :span="15">
                    åªèƒ½ä¸Šä¼ jpg/pngæ–‡ä»¶ï¼Œä¸”ä¸è¶…è¿‡500kb
                </el-col>
            </el-form-item>
        </el-form>
        <div slot="footer" class="dialog-footer">
            <el-button @click="dialogFormVisible = false">å– æ¶ˆ</el-button>
            <el-button type="primary" @click="update">æ äº¤</el-button>
        </div>
    </el-dialog>
    <!--ä¸ªäººä¿¡æ¯å¼¹å‡ºæ¡†ç»“æŸ---------------------------------------------------- -->


    <!--æ–°é—»å¼¹å‡ºæ¡†å¼€å§‹---------------------------------------------------- -->
    <el-dialog title="æ–°é—»ç®¡ç†" :visible.sync="dialogNewsVisible" @close="newsDialogClosed" :fullscreen="true"
               :append-to-body="true"
               v-loading="newsLoading"
               element-loading-text="æ‹¼å‘½åŠ è½½ä¸­"
               element-loading-spinner="el-icon-loading">

        <el-form :model="news" :rules="newsRules" ref="newsForm">
            <el-form-item label="æ ‡é¢˜" :label-width="formLabelWidth" prop="title">
                <el-input v-model="news.title" autocomplete="off"/>
            </el-form-item>
            <el-form-item label="åˆ†ç±»" :label-width="formLabelWidth" prop="categoryId">
                <el-select v-model="news.categoryId" :clearable="true" placeholder="è¯·é€‰æ‹©">
                    <el-option
                            v-for="item in categoryList"
                            :key="item.id"
                            :label="item.name"
                            :value="item.id">
                    </el-option>
                </el-select>
            </el-form-item>
            <el-form-item label="æ‘˜è¦" :label-width="formLabelWidth" prop="content">
                <el-input type="textarea" :rows="2" v-model="news.content" autocomplete="off"/>
            </el-form-item>
            <el-form-item label="å†…å®¹" :label-width="formLabelWidth" prop="contentHtml">
                <div style="width: auto;height: auto" id="contentHtml"></div>
            </el-form-item>

            <el-form-item label="æ–°é—»å°é¢" :label-width="formLabelWidth" prop="image">
                <el-col :span="7" style="height: 200px">
                    <div class="demo-image__error">
                        <el-image :src="news.image">
                            <div slot="error" class="image-slot">
                                <i class="el-icon-picture-outline"></i>
                            </div>
                        </el-image>
                    </div>
                </el-col>
                <el-col :span="4">
                    <el-upload
                            name="multipartFile"
                            :multiple="false"
                            :show-file-list="false"
                            :on-success="handleNewsImageSuccess"
                            :on-error="handleImageFail"
                            :before-upload="beforeNewsUploadHandle"
                            :headers="headers"
                            accept="image/*"
                            action="http://127.0.0.1:8888/api/front/upload"
                    >
                        <el-button size="small" type="primary">ç‚¹å‡»ä¸Šä¼ </el-button>
                    </el-upload>
                </el-col>
                <el-col :span="11">
                    åªèƒ½ä¸Šä¼ jpg/pngæ–‡ä»¶ï¼Œä¸”ä¸è¶…è¿‡1MB
                </el-col>
            </el-form-item>
        </el-form>
        <div slot="footer" class="dialog-footer">
            <el-button @click="dialogNewsVisible = false">å– æ¶ˆ</el-button>
            <el-button type="primary" @click="createNews('newsForm')">æ äº¤</el-button>
        </div>
    </el-dialog>
    <!--æ–°é—»å¼¹å‡ºæ¡†ç»“æŸ---------------------------------------------------- -->

</div>
<script src="/static/assets/profile/bundle.js" async defer></script>
<script src="/static/assets/js/axios.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.10"></script>
<script src="/static/assets/js/elementui-2.6.10.js"></script>

</body>
<script src="/static/assets/plugins/tinymce/js/tinymce/tinymce.min.js"></script>
<script>

</script>
<script>
    const service = axios.create();
    service.interceptors.request.use(config => {
        config.headers['authorization'] = 'Bearer ' + localStorage.getItem('token');
        return config;
    });
    service.interceptors.response.use(response => {
        const res = response.data;
        if (response.code === 401) {
            //è®¤è¯è¿‡æœŸ,ä»æ–°ç™»å½•
            localStorage.removeItem("token");
            localStorage.removeItem("name");
            window.location.href = '/login'
        } else {
            return res;
        }
    });
    new Vue({
        el: '#app',
        filters: {
            statusFilter(status) {
                const statusMap = {
                    0: 'success',
                    1: 'info',
                    2: 'danger'
                };
                return statusMap[status]
            },
        },
        data() {
            const validateCategory = (rule, value, callback) => {
                if (Number(value) < 0 || Number(value) > 10) {
                    return new callback(new Error('éæ³•åˆ†ç±»!'))
                }
                return new callback();
            };
            const validateRePwd = (rule, value, callback) => {
                if (value !== this.passwordForm.newPwd) {
                    return new callback(new Error('ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´!'));
                }
                return new callback();
            };
            const validateNewPwd = (rule, value, callback) => {
                if (value === this.passwordForm.oldPwd) {
                    return new callback(new Error('æ–°å¯†ç ä¸èƒ½å’Œæ—§å¯†ç ä¸€æ ·'));
                }
                return new callback();
            };
            const validateOldPwd = (rule, value, callback) => {
                service.post(`/profile/validatePwd/${this.user.id}/${value}`).then(response => {
                    if (response.code === 20000) {
                        return new callback();
                    } else {
                        return new callback(new Error('æ—§å¯†ç ä¸æ­£ç¡®'));
                    }
                });
            };
            const validatePhone = (rule, value, callback) => {
                let phonePattern = /0?(13|14|15|18|17)[0-9]{9}/;
                if (phonePattern.test(value)) {
                    service.post(`/profile/validatePhone/${this.bindPhone.phone}`).then(response => {
                        if (response.code === 20000) {
                            return new callback();
                        } else {
                            return new callback(new Error('æ‰‹æœºå·å·²ä½¿ç”¨!'))
                        }
                    })
                } else {
                    return new callback(new Error('æ‰‹æœºå·ä¸æ­£ç¡®!'))
                }
            };
            const validateEmail = (rule, value, callback) => {
                let emailPattern = /\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/;
                if (emailPattern.test(value)) {
                    service.post(`/profile/validateEmail/${this.bindEmail.email}`).then(response => {
                        if (response.code === 20000) {
                            return new callback();
                        } else {
                            return new callback(new Error('é‚®ç®±å·²è¢«ä½¿ç”¨!'))
                        }
                    })
                } else {
                    return new callback(new Error('é‚®ç®±ä¸æ­£ç¡®!'))
                }
            }
            return {
                name: '',//åå°ä¼ åˆ°é¡µé¢çš„ç”¨æˆ·å
                user: {},//ç”¨æˆ·ä¿¡æ¯
                likeMost3: [],//è¡¨å±•ç¤ºå†…å®¹
                commentMost: {},//è¯„è®ºæœ€å¤šæ–°é—»
                likeMost: {},//æœ€å—æ¬¢è¿æ–°é—»
                allNews: [],//å½“å‰ç”¨æˆ·æ‰€æœ‰æ–°é—»
                dialogFormVisible: false,//ä¸ªäººä¿¡æ¯dialog
                formLabelWidth: '120px',//dialogå®½åº¦
                loading: false,//åŠ è½½ä¸­
                loadingText: 'æ‹¼å‘½åŠ è½½ä¸­...',
                unReviewed: [],//æœªå®¡æ ¸
                reviewedFail: [],//å®¡æ ¸å¤±è´¥
                //å¤´åƒä¸Šä¼ 
                headers: {
                    smail: '*_~',
                    'authorization': 'Bearer ' + localStorage.getItem('token')
                },
                //å¤´åƒå‚æ•°
                params: {
                    access_token: localStorage.getItem('token')
                },
                //æ–°é—»ç®¡ç†
                dialogNewsVisible: false,
                news: {
                    title: '',
                    categoryId: -1,
                    content: '',
                    contentHtml: '',
                    image: '',
                    userId: ''
                },
                newsLoading: false,
                categoryList: [],
                newsRules: {
                    title: [
                        {required: true, message: 'æ–‡ç« æ ‡é¢˜ä¸ºå¿…å¡«é¡¹', trigger: 'blur'},
                        {min: 1, max: 50, message: 'æ–‡ç« æ ‡é¢˜æœ€é•¿ä¸è¶…è¿‡50', trigger: 'blur'},
                    ],
                    content: [
                        {required: true, message: 'æ–‡ç« æ‘˜è¦ä¸ºå¿…å¡«é¡¹', trigger: 'blur'},
                        {min: 1, max: 500, message: 'æ–‡ç« æ‘˜è¦æœ€é•¿ä¸è¶…è¿‡500', trigger: 'blur'},
                    ],
                    categoryId: [
                        {required: true, message: 'æ–‡ç« åˆ†ç±»ä¸ºå¿…å¡«é¡¹', trigger: 'blur'},
                        {validator: validateCategory, trigger: 'blur'},
                    ],
                    image: [
                        {required: true, message: 'æ–‡ç« å›¾ç‰‡å¿…é¡»ä¸Šä¼ !', trigger: 'blur'}
                    ],
                    contentHtml: [
                        {required: true, message: 'æ–‡ç« å†…å®¹å¿…å¡«é¡¹'}
                    ]
                },
                passwordForm: {
                    oldPwd: '',
                    newPwd: '',
                    rePwd: ''
                },
                passwordRules: {
                    oldPwd: [
                        {required: true, message: 'è¯·è¾“å…¥æ—§å¯†ç ', trigger: 'blur'},
                        {min: 6, max: 16, message: 'å¯†ç é•¿åº¦åœ¨6-16ä¹‹é—´', trigger: 'blur'},
                        {validator: validateOldPwd, trigger: 'blur'},
                    ],
                    newPwd: [
                        {required: true, message: 'è¯·è¾“å…¥æ–°å¯†ç ', trigger: 'blur'},
                        {min: 6, max: 16, message: 'å¯†ç é•¿åº¦åœ¨6-16ä¹‹é—´', trigger: 'blur'},
                        {validator: validateNewPwd, trigger: 'blur'},
                    ],
                    rePwd: [
                        {required: true, message: 'è¯·è¾“å…¥ç¡®è®¤å¯†ç ', trigger: 'blur'},
                        {min: 6, max: 16, message: 'å¯†ç é•¿åº¦åœ¨6-16ä¹‹é—´', trigger: 'blur'},
                        {validator: validateRePwd, trigger: 'blur'},
                    ],
                },
                //ç»‘å®šæ‰‹æœºå·
                bindPhone: {
                    phone: '',
                    code: ''
                },
                bindPhoneRules: {
                    phone: [
                        {required: true, message: 'è¯·è¾“å…¥æ‰‹æœºå·', trigger: 'blur'},
                        {validator: validatePhone, trigger: 'blur'}
                    ],
                    code: [
                        {required: true, message: 'è¯·è¾“å…¥éªŒè¯ç ', trigger: 'blur'},
                        {min: 6, max: 6, message: 'éªŒè¯ç é•¿åº¦ä¸æ­£ç¡®', trigger: 'blur'}
                    ]
                },
                phoneCodeDisabled: false,
                phoneCodeBtnText: 'éªŒè¯ç ',
                //ç»‘å®šé‚®ç®±
                bindEmail: {
                    email: '',
                    code: ''
                },
                bindEmailRules: {
                    email: [
                        {required: true, message: 'è¯·è¾“å…¥é‚®ç®±', trigger: 'blur'},
                        {type: 'email', message: 'è¯·è¾“å…¥æ­£ç¡®çš„é‚®ç®±', trigger: 'blur'},
                        {validator: validateEmail, trigger: 'blur'}
                    ],
                    code: [
                        {required: true, message: 'è¯·è¾“å…¥éªŒè¯ç ', trigger: 'blur'},
                        {min: 6, max: 6, message: 'éªŒè¯ç é•¿åº¦ä¸æ­£ç¡®', trigger: 'blur'}
                    ]
                },
                emailCodeDisabled: false,
                emailCodeBtnText: 'éªŒè¯ç ',
                published: true,
                unReviewedB: false,
                reviewedFailB: false
            };

        },
        beforeCreate() {

        },
        created() {
            this.name = document.getElementById("name").value;
            service.get('/profile/user/info/' + this.name).then(response => {
                this.user = response.data;
                this.fetchData(this.user.id);
            });
        },
        methods: {
            /**
             * åˆå§‹åŒ–æ“ä½œ
             * @param userId
             */
            fetchData(userId) {
                /**
                 * æœ€è¿‘ä¸‰æ¡æ–‡ç« 
                 */
                service.get('/profile/user/getLikeMost3/' + userId).then(response => {
                    this.likeMost3 = response.data;
                });
                /**
                 * è¯„è®ºæœ€å¤š
                 */
                service.get('/profile/user/getCommentMost/' + userId).then(response => {
                    this.commentMost = response.data;
                });
                /**
                 * ç‚¹èµæœ€å¤š
                 */
                service.get('/profile/user/getLikeMost/' + userId).then(response => {
                    this.likeMost = response.data;
                });
                /**
                 * æ‰€æœ‰å·²å‘å¸ƒ
                 */
                service.get('/profile/user/getAll/' + userId).then(response => {
                    this.allNews = response.data;
                });
                /**
                 * æ–°é—»åˆ†ç±»
                 */
                service.get('/profile/categoryList').then(response => {
                    this.categoryList = response.data;
                });
                /**
                 * æ‰€æœ‰å¾…å®¡æ ¸
                 */
                service.get('/profile/unReviewed/' + userId).then(response => {
                    this.unReviewed = response.data;
                });
                /**
                 * æ‰€æœ‰å®¡æ ¸å¤±è´¥
                 */
                service.get('/profile/reviewedFail/' + userId).then(response => {
                    this.reviewedFail = response.data;
                })
            },
            //å¤´åƒä¸Šä¼ -------------------
            /**
             * å¤´åƒä¸Šä¼ æˆåŠŸå›è°ƒ
             */
            handleImageSuccess(response, file) {
                this.user.userIcon = response.data.path;
                this.$message({
                    message: 'ä¸Šä¼ å›¾ç‰‡æˆåŠŸ!',
                    type: 'success',
                    duration: 5 * 1000
                });
                this.loading = false;
                this.loadingText = 'æ‹¼å‘½åŠ è½½ä¸­...';
            },
            /**
             * å¤´åƒä¸Šä¼ å¤±è´¥
             */
            handleImageFail() {
                this.$message({
                    message: 'ä¸Šä¼ å›¾ç‰‡å¤±è´¥!',
                    type: 'error',
                    duration: 5 * 1000
                });
                this.loading = false;
                this.loadingText = 'æ‹¼å‘½åŠ è½½ä¸­...';
            },
            /**
             * åœ¨å¤´åƒä¸Šä¼ å‰æ£€æŸ¥
             * @param file
             * @returns {boolean}
             */
            beforeUploadHandle(file) {
                if ((file.size / 1024) > 500) {
                    this.$message({
                        message: 'æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡500kb',
                        type: 'error',
                        duration: 5 * 1000
                    });
                    return false;
                }
                this.loadingText = 'å¤´åƒä¸Šä¼ ä¸­,è¯·ç¨å...';
                this.loading = true;
            },
            /**
             * æ›´æ–°ä¸ªäººä¿¡æ¯
             */
            update() {
                service.post('/profile/update', this.user).then(response => {
                    if (response.code === 20000) {
                        this.$notify({
                            title: 'æˆåŠŸ',
                            message: 'æ›´æ–°æˆåŠŸ',
                            type: 'success',
                            duration: 5 * 1000
                        });
                        setTimeout(function () {
                            window.location.reload();
                        }, 2000)
                    } else {
                        this.$notify({
                            title: 'å¤±è´¥',
                            message: 'ç½‘ç»œé”™è¯¯,è¯·ç¨åå†è¯•',
                            type: 'error',
                            duration: 5 * 1000
                        });
                    }
                })
            },
            logout() {
                axios.post(`/front/logout/${localStorage.getItem('token')}`, {
                        headers: {
                            "Authorization": 'Bearer ' + localStorage.getItem("token")
                        }
                    }
                );
                localStorage.removeItem("token");
                localStorage.removeItem("name");
                window.location.href = '/index';
            },
            /**
             * æ–°é—»çš„dialog
             */
            showNews() {
                this.dialogNewsVisible = true;
                let news = this.news;
                setTimeout(function () {
                    window.tinymce.init({
                        selector: '#contentHtml',
                        language: 'zh_CN',
                        plugins: 'print preview preview searchreplace autolink directionality visualchars fullscreen image link media template code table charmap hr pagebreak nonbreaking anchor insertdatetime advlist lists wordcount imagetools textpattern paste emoticons bdmap indent2em lineheight autoresize',
                        toolbar: 'code preview fontsizeselect forecolor backcolor bold italic underline strikethrough link anchor | alignleft aligncenter alignright indent2em lineheight | \
                    bullist numlist | blockquote subscript superscript removeformat | \
                    table image media bdmap emoticons charmap hr pagebreak insertdatetime | fullscreen ',
                        menubar: false,
                        fontsize_formats: '12px 14px 16px 18px 24px 36px 48px 56px 72px',
                        autosave_ask_before_unload: false,
                        toolbar_drawer: false,
                        icons: 'ax-color',
                        min_height: 400,
                        max_height: 500,
                    }).then(resolve => {
                        window.tinyMCE.activeEditor.setContent(news.contentHtml);
                    });

                }, 1000)
            },
            /**
             * æ–°é—»å›¾ç‰‡ä¸Šä¼ æˆåŠŸå›è°ƒ
             * @param response
             * @param file
             */
            handleNewsImageSuccess(response, file) {
                this.news.image = response.data.path;
                this.$message({
                    message: 'ä¸Šä¼ å›¾ç‰‡æˆåŠŸ!',
                    type: 'success',
                    duration: 5 * 1000
                });
                this.newsLoading = false;
            },
            /**
             * å›¾ç‰‡å¤§å°æ£€æŸ¥
             * @param file
             * @returns {boolean}
             */
            beforeNewsUploadHandle(file) {
                if ((file.size / 1024) > 1024) {
                    this.$message({
                        message: 'æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡1MB',
                        type: 'error',
                        duration: 5 * 1000
                    });
                    return false;
                }
                this.newsLoading = true;
            },
            /**
             * åˆ›å»ºæˆ–æ›´æ–°æ–‡ç« æ“ä½œ
             * @param newsForm
             */
            createNews(newsForm) {
                this.newsLoading = true;
                this.news.contentHtml = tinyMCE.activeEditor.getContent();
                if (this.news.id !== undefined) {
                    //æ›´æ–°æ–°é—»
                    service.post('/profile/updateNews', this.news).then(response => {
                        if (response.code === 20000) {
                            //success
                            this.$notify({
                                title: 'æˆåŠŸ',
                                message: 'æ›´æ–°æ–‡ç« æˆåŠŸ!',
                                type: 'success',
                                duration: 5 * 1000
                            });
                        } else {
                            this.$notify({
                                title: 'å¤±è´¥',
                                message: 'æ›´æ–°æ–‡ç« å¤±è´¥!',
                                type: 'error',
                                duration: 5 * 1000
                            });
                        }
                    })
                } else {
                    //æ–°å»ºæ–°é—»
                    this.news.userId = this.user.id;
                    this.$refs[newsForm].validate((valid) => {
                        if (valid) {
                            service.post('/profile/createNews', this.news).then(response => {
                                if (response.code === 20000) {
                                    //success
                                    this.$notify({
                                        title: 'æˆåŠŸ',
                                        message: 'åˆ›å»ºæ–‡ç« æˆåŠŸ!',
                                        type: 'success',
                                        duration: 5 * 1000
                                    });
                                    this.news = {};
                                    tinyMCE.activeEditor.setContent("");
                                    /**
                                     * æ‰€æœ‰å¾…å®¡æ ¸
                                     */
                                    service.get('/profile/unReviewed/' + this.user.id).then(response => {
                                        this.unReviewed = response.data;
                                    });
                                    this.dialogNewsVisible = false;
                                } else {
                                    this.$notify({
                                        title: 'å¤±è´¥',
                                        message: 'åˆ›å»ºæ–‡ç« å¤±è´¥!',
                                        type: 'error',
                                        duration: 5 * 1000
                                    });
                                }
                            });
                        } else {
                            this.newsLoading = false;
                            return false;
                        }
                    });
                }

                this.newsLoading = false;
            },
            /**
             * ç”¨äºæ›´æ–°æ–°é—»æ‰“å¼€dialog
             * @param item
             */
            updateNewsDialog(item) {
                this.news = item;
                this.dialogNewsVisible = true;
                while (tinymce.editors.length > 0) {
                    tinymce.remove(tinymce.editors[0]);
                }
                setTimeout(function () {
                    window.tinymce.init({
                        selector: '#contentHtml',
                        language: 'zh_CN',
                        plugins: 'print preview preview searchreplace autolink directionality visualchars fullscreen image link media template code table charmap hr pagebreak nonbreaking anchor insertdatetime advlist lists wordcount imagetools textpattern paste emoticons bdmap indent2em lineheight autoresize',
                        toolbar: 'code preview fontsizeselect forecolor backcolor bold italic underline strikethrough link anchor | alignleft aligncenter alignright indent2em lineheight | \
                    bullist numlist | blockquote subscript superscript removeformat | \
                    table image media bdmap emoticons charmap hr pagebreak insertdatetime | fullscreen ',
                        menubar: false,
                        fontsize_formats: '12px 14px 16px 18px 24px 36px 48px 56px 72px',
                        autosave_ask_before_unload: false,
                        toolbar_drawer: false,
                        icons: 'ax-color',
                        min_height: 400,
                        max_height: 500,
                    }).then(resolve => {
                        window.tinyMCE.activeEditor.setContent(item.contentHtml);
                    });
                }, 1000);

            },
            newsDialogClosed() {
                while (tinymce.editors.length > 0) {
                    tinymce.remove(tinymce.editors[0]);
                }
                if (this.news.id !== null) {
                    this.news = {
                        title: '',
                        categoryId: -1,
                        content: '',
                        contentHtml: '',
                        image: '',
                        userId: ''
                    };
                }
            },
            changePwd(passwordForm) {
                this.$refs[passwordForm].validate((valid) => {
                    if (valid) {
                        this.loadingText = 'ä¿®æ”¹å¯†ç ä¸­,è¯·ç¨å';
                        this.loading = true;
                        service.post(`/profile/changePwd/${this.user.id}/${this.passwordForm.newPwd}`).then(response => {
                            if (response.code === 20000) {
                                this.$notify({
                                    title: 'æˆåŠŸ',
                                    message: 'å¯†ç ä¿®æ”¹æˆåŠŸ!',
                                    type: 'success',
                                    duration: 3 * 1000
                                });
                                this.loadingText = 'å¯†ç ä¿®æ”¹æˆåŠŸ,æ­£åœ¨è¿›è¡Œè‡ªåŠ¨è·³è½¬ç™»å½•';
                                axios.post(`/front/logout/${localStorage.getItem('token')}`, {
                                        headers: {
                                            "Authorization": 'Bearer ' + localStorage.getItem("token")
                                        }
                                    }
                                );
                                localStorage.removeItem('token');
                                localStorage.removeItem('name');
                                window.location.href = '/login'
                            } else {
                                this.$notify({
                                    title: 'å¤±è´¥',
                                    message: 'å¯†ç ä¿®æ”¹å¤±è´¥!',
                                    type: 'error',
                                    duration: 3 * 1000
                                });
                                this.loading = false;
                                this.loadingText = 'åŠ è½½ä¸­,è¯·ç¨å';
                            }
                        })
                    } else {
                        return false;
                    }
                })
            },
            //è·å–æ‰‹æœºéªŒè¯ç 
            getPhoneCode(bindPhoneForm) {
                this.$refs[bindPhoneForm].validateField('phone', (valid) => {
                    if (!valid) {
                        //å‘é€éªŒè¯ç 
                        service.post(`http://127.0.0.1:8888/api/message/send/phone/code/${this.bindPhone.phone}`).then(response => {
                            if (response) {
                                this.$message({
                                    message: 'éªŒè¯ç å‘é€æˆåŠŸ!',
                                    type: 'success',
                                    duration: 5 * 1000
                                });
                                this.phoneCodeDisabled = true;
                                let wait = 60;
                                this.phoneCodeBtnText = wait;
                                let codeThis = this;
                                this.time(codeThis, wait);
                            } else {
                                this.$message({
                                    message: 'éªŒè¯ç å‘é€å¤±è´¥,è¯·ç¨åå†è¯•!',
                                    type: 'error',
                                    duration: 5 * 1000
                                });
                            }
                        })
                    }
                })
            },
            time(codeThis, wait) {
                if (wait !== 0) {
                    setTimeout(function () {
                        wait--;
                        codeThis.phoneCodeBtnText = wait;
                        codeThis.time(codeThis, wait);
                    }, 1000)
                } else {
                    codeThis.phoneCodeDisabled = false;
                    codeThis.phoneCodeBtnText = 'éªŒè¯ç ';
                }
            },
            /**
             * ç»‘å®šæ‰‹æœºå·
             * @param bindPhoneForm
             */
            confirmBindPhone(bindPhoneForm) {
                this.$refs[bindPhoneForm].validate((valid) => {
                    if (valid) {
                        service.post(`/profile/update/phone/${this.user.id}/${this.bindPhone.phone}/${this.bindPhone.code}`).then(response => {
                            if (response.code === 20000) {
                                //ç»‘å®šæˆåŠŸ
                                this.$message({
                                    message: 'ç»‘å®šæ‰‹æœºæˆåŠŸ!',
                                    type: 'success',
                                    duration: 5 * 1000
                                });
                                this.user.phone = this.bindPhone.phone;
                            } else {
                                //ç»‘å®šå¤±è´¥
                                this.$message({
                                    message: response.message,
                                    type: 'error',
                                    duration: 5 * 1000
                                });
                            }
                        })
                    }
                })
            },
            /**
             * å‘é€é‚®ç®±éªŒè¯ç 
             */
            bindEmailCode(bindEmailForm) {
                this.$refs[bindEmailForm].validateField("email", (valid) => {
                    if (!valid) {
                        //å‘é€éªŒè¯ç 
                        service.post(`http://127.0.0.1:8888/api/message/send/mail/code/${this.bindEmail.email}/${this.user.name}`)
                            .then(response => {
                                if (response) {
                                    this.$message({
                                        message: 'éªŒè¯ç å‘é€æˆåŠŸ!',
                                        type: 'success',
                                        duration: 5 * 1000
                                    });
                                    this.emailCodeDisabled = true;
                                    let wait = 60;
                                    this.emailCodeBtnText = wait;
                                    let codeThis = this;
                                    this.emailTime(codeThis, wait);
                                } else {
                                    this.$message({
                                        message: 'éªŒè¯ç å‘é€å¤±è´¥,è¯·ç¨åå†è¯•!',
                                        type: 'error',
                                        duration: 5 * 1000
                                    });
                                }
                            })
                    }
                })
            },
            emailTime(codeThis, wait) {
                if (wait !== 0) {
                    setTimeout(function () {
                        wait--;
                        codeThis.emailCodeBtnText = wait;
                        codeThis.emailTime(codeThis, wait);
                    }, 1000)
                } else {
                    codeThis.emailCodeDisabled = false;
                    codeThis.emailCodeBtnText = 'éªŒè¯ç ';
                }
            },
            /**
             * ç»‘å®šé‚®ç®±
             * @param bindEmailForm
             */
            confirmBindEmail(bindEmailForm) {
                this.$refs[bindEmailForm].validate((valid) => {
                    if (valid) {
                        service.post(`/profile/update/email/${this.user.id}/${this.bindEmail.email}/${this.bindEmail.code}`).then(response => {
                            if (response.code === 20000) {
                                //ç»‘å®šæˆåŠŸ
                                this.$message({
                                    message: 'ç»‘å®šé‚®ç®±æˆåŠŸ!',
                                    type: 'success',
                                    duration: 5 * 1000
                                });
                                this.user.email = this.bindEmail.email;
                            } else {
                                //ç»‘å®šå¤±è´¥
                                this.$message({
                                    message: response.message,
                                    type: 'error',
                                    duration: 5 * 1000
                                });
                            }
                        })
                    }
                })
            },
            deleteNewsById(id) {
                service.post(`/profile/delete/news/${id}`).then(response => {
                    if (response.code === 20000) {
                        //success
                        window.location.reload();
                    } else {
                        this.$message({
                            type: 'error',
                            message: 'åˆ é™¤å¤±è´¥,è¯·ç¨åå†è¯•',
                            duration: 5 * 1000
                        })
                    }
                })
            },
            changeStatus(status) {
                if (status === 'published') {
                    document.getElementById('published').classList.add('active');
                    document.getElementById('unReviewedB').classList.remove('active');
                    document.getElementById('reviewedFailB').classList.remove('active');
                    this.published = true;
                    this.unReviewedB = false;
                    this.reviewedFailB = false;
                } else if (status === 'unReviewedB') {
                    document.getElementById('published').classList.remove('active');
                    document.getElementById('unReviewedB').classList.add('active');
                    document.getElementById('reviewedFailB').classList.remove('active');
                    this.published = false;
                    this.unReviewedB = true;
                    this.reviewedFailB = false;
                } else {
                    document.getElementById('published').classList.remove('active');
                    document.getElementById('unReviewedB').classList.remove('active');
                    document.getElementById('reviewedFailB').classList.add('active');
                    this.published = false;
                    this.unReviewedB = false;
                    this.reviewedFailB = true;
                }
            }
        }
    });
</script>

</html>